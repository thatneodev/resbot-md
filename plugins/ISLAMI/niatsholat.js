// Data niat sholat
const niatShalat = {
    subuh: {
        sendiri: `Ø£ÙØµÙŽÙ„Ù‘ÙÙ‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„ØµÙ‘ÙØ¨Ù’Ø­ Ø±ÙŽÙƒÙŽØ¹ØªÙŽÙŠÙ’Ù†Ù Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„Ù„Ù‡ ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰.

"Ushallii fardash-Shubhi rakâ€™ataini mustaqbilal qiblati adaaâ€™an lillaahi taâ€™aalaa."

Artinya: Saya (berniat) mengerjakan sholat fardhu subuh sebanyak dua rakaâ€™at dengan menghadap kiblat, karena Allah Taâ€™ala.`,
        makmum: `Ø£ÙØµÙŽÙ„Ù‘ÙÙ‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„ØµÙ‘ÙØ¨Ù’Ø­ Ø±ÙŽÙƒÙŽØ¹ØªÙŽÙŠÙ’Ù†Ù Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ (Ù…ÙŽØ£Ù’Ù…ÙÙˆÙ’Ù…Ù‹Ø§/Ø¥ÙÙ…ÙŽØ§Ù…Ù‹Ø§) Ù„Ù„Ù‡ ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰.

"Ushallii fardhash-Shubhi rakâ€™ataini mustaqbilal qiblati makmuuman lillaahi taâ€™aalaa."

Artinya: Saya (berniat) mengerjakan sholat fardhu subuh sebanyak dua rakaâ€™at dengan menghadap kiblat, sebagai makmum, karena Allah Taâ€™ala.`,
    },
    dzuhur : {
        sendiri: `Ø£ÙØµÙŽÙ„ÙÙ‘Ù‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ø¸ÙÙ‘Ù‡Ù’Ø±Ù Ø£ÙŽØ±Ù’Ø¨ÙŽØ¹ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰

(Ushollii fardhodz dzuhri arbaâ€™a rokaâ€™aatin mustaqbilal qiblati adaaâ€™an lillaahi taâ€™aalaa)

Artinya:
Aku niat sholat fardhu Dzuhur empat rakaâ€™at, menghadap kilbat, saat ini karena Allah Taâ€™ala.`,
        makmum: `Ø£ÙØµÙŽÙ„ÙÙ‘Ù‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ø¸ÙÙ‘Ù‡Ù’Ø±Ù Ø£ÙŽØ±Ù’Ø¨ÙŽØ¹ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù…ÙŽØ£Ù’Ù…ÙÙˆÙ’Ù…Ù‹Ø§ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰

(Ushollii fardhodz dzuhri arbaâ€™a rokaâ€™aatin mustaqbilal qiblati adaaâ€™an maâ€™muuman lillaahi taâ€™aalaa)

Artinya:
Aku niat sholat fardhu Dzuhur empat rakaâ€™at, menghadap kilbat, saat ini sebagai makmum karena Allah Taâ€™ala.`,
    },
    ashar : {
        sendiri: `Ø£ÙØµÙŽÙ„ÙÙ‘Ù‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ù’Ø¹ÙŽØµÙ’Ø±Ù Ø£ÙŽØ±Ù’Ø¨ÙŽØ¹ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰


(Ushollii fardhol â€˜ashri arbaâ€™a rokaâ€™aatin mustaqbilal qiblati adaaâ€™an lillaahi taâ€™aalaa)


Artinya:
Aku niat sholat fardhu Ashar empat rakaâ€™at, menghadap kilbat, saat ini karena Allah Taâ€™ala.`,
        makmum: `Ø£ÙØµÙŽÙ„ÙÙ‘Ù‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ù’Ø¹ÙŽØµÙ’Ø±Ù Ø£ÙŽØ±Ù’Ø¨ÙŽØ¹ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù…ÙŽØ£Ù’Ù…ÙÙˆÙ’Ù…Ù‹Ø§ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰


(Ushollii fardhol â€˜ashri arbaâ€™a rokaâ€™aatin mustaqbilal qiblati adaaâ€™an maâ€™muuman lillaahi taâ€™aalaa)

Artinya:
Aku niat sholat fardhu Ashar empat rakaâ€™at, menghadap kilbat, saat ini sebagai makmum karena Allah Taâ€™ala.
`,
    },
    maghrib : {
        sendiri: `Ø£ÙØµÙŽÙ„ÙÙ‘Ù‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ù’Ù…ÙŽØºÙ’Ø±ÙØ¨Ù Ø«ÙŽÙ„ÙŽØ§Ø«ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰

(Ushollii fardhol maghribi tsalaatsa rokaâ€™aatin mustaqbilal qiblati adaaâ€™an lillaahi taâ€™aalaa)

Artinya:
Aku niat sholat fardhu Maghrib tiga rakaâ€™at, menghadap kilbat, saat ini karena Allah Taâ€™ala.`,
        makmum: `Ø£ÙØµÙŽÙ„ÙÙ‘Ù‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ù’Ù…ÙŽØºÙ’Ø±ÙØ¨Ù Ø«ÙŽÙ„ÙŽØ§Ø«ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù…ÙŽØ£Ù’Ù…ÙÙˆÙ’Ù…Ù‹Ø§ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰


(Ushollii fardhol maghribi tsalaatsa rokaâ€™aatin mustaqbilal qiblati adaaâ€™an maâ€™muuman lillaahi taâ€™aalaa)

Artinya:
Aku niat sholat fardhu Maghrib tiga rakaâ€™at, menghadap kilbat, saat ini sebagai makmum karena Allah Taâ€™ala.`,
    },
    isya : {
        sendiri: `Ø£ÙØµÙŽÙ„ÙÙ‘Ù‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ù’Ø¹ÙØ´ÙŽØ§Ø¡Ù Ø£ÙŽØ±Ù’Ø¨ÙŽØ¹ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰

(Ushollii fardhol â€˜isyaaâ€™i arbaâ€™a rokaâ€™aatin mustaqbilal qiblati adaaâ€™an lillaahi taâ€™aalaa)

Artinya:
Aku niat sholat fardhu Isya empat rakaâ€™at, menghadap kilbat, saat ini karena Allah Taâ€™ala.`,
        makmum: `Ø£ÙØµÙŽÙ„ÙÙ‘Ù‰ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ù’Ø¹ÙØ´ÙŽØ§Ø¡Ù Ø£ÙŽØ±Ù’Ø¨ÙŽØ¹ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù…ÙŽØ£Ù’Ù…ÙÙˆÙ’Ù…Ù‹Ø§ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰

(Ushollii fardhol â€˜isyaaâ€™i arbaâ€™a rokaâ€™aatin mustaqbilal qiblati adaaâ€™an maâ€™muuman lillaahi taâ€™aalaa)

Artinya:
Aku niat sholat fardhu Isya empat rakaâ€™at, menghadap kilbat, saat ini sebagai makmum karena Allah Taâ€™ala.`,
    }
};

function getGreeting() {
    const now = new Date();
    const utcHours = now.getUTCHours(); // Jam UTC
    const wibHours = (utcHours + 7) % 24; // Konversi ke WIB

    let greeting = '';
    let waktuShalat = '';
    let icon = ''; // Tambahkan variabel untuk ikon

    if (wibHours >= 4 && wibHours < 12) {
        greeting = 'Selamat pagi!';
        waktuShalat = 'subuh';
        icon = 'ðŸŒ…'; // Ikon untuk pagi
    } else if (wibHours >= 12 && wibHours < 15) {
        greeting = 'Selamat siang!';
        waktuShalat = 'dzuhur';
        icon = 'â˜€ï¸'; // Ikon untuk siang
    } else if (wibHours >= 15 && wibHours < 18) {
        greeting = 'Selamat sore!';
        waktuShalat = 'ashar';
        icon = 'ðŸŒ‡'; // Ikon untuk sore
    } else if (wibHours >= 18 && wibHours < 19) {
        greeting = 'Selamat petang!';
        waktuShalat = 'maghrib';
        icon = 'ðŸŒ†'; // Ikon untuk petang
    } else {
        greeting = 'Selamat malam!';
        waktuShalat = 'isya';
        icon = 'ðŸŒ™'; // Ikon untuk malam
    }

    return { greeting: `${icon} ${greeting}`, waktuShalat };
}

// Fungsi untuk menangani perintah
async function handle(sock, messageInfo) {
    const { remoteJid, message, content } = messageInfo;
    const { greeting, waktuShalat: defaultWaktuShalat } = getGreeting();

    let waktuShalat = defaultWaktuShalat;

    // Tentukan waktu shalat berdasarkan input pengguna
    if (content === 'subuh') {
        waktuShalat = 'subuh';
    } else if (content === 'dzuhur' || content === 'zuhur') {
        waktuShalat = 'dzuhur';
    } else if (content === 'ashar' || content === 'asar') {
        waktuShalat = 'ashar';
    } else if (content === 'maghrib' || content === 'magrib') {
        waktuShalat = 'maghrib';
    } else if (content === 'isya') {
        waktuShalat = 'isya';
    }

    const niat = niatShalat[waktuShalat];
    if (niat) {
        const pesan = `${greeting}\n\n_Berikut adalah niat sholat ${waktuShalat} (sendiri)_:\n\n${niat.sendiri}\n---------------\n\n_Niat sholat ${waktuShalat} (makmum)_:\n\n${niat.makmum}`;
        await sock.sendMessage(remoteJid, { text: pesan }, { quoted: message });
    } else {
        await sock.sendMessage(
            remoteJid,
            { text: 'Waktu sholat tidak ditemukan atau belum ditentukan.' },
            { quoted: message }
        );
    }
}

// Ekspor modul
module.exports = {
    handle,
    Commands    : ['niatsholat', 'niatshalat'],
    OnlyPremium : false,
    OnlyOwner   : false
};
